<!-- index.hbs -->

<h1>Display All Invoices</h1>
{{!-- Create a table --}}
<table id="invoices-table">

    {{!-- Header section --}}
    <thead>

        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr>
            {{#each data.[0]}}
            <th>
                {{@key}}
            </th>
            {{/each}}
        </tr>
    </thead>

    {{!-- Body section --}}
    <tbody>

        {{!-- For each row, print the id, fname, lname, homeworld and age, in order --}}
        {{#each data}}
        <tr>
            <td>{{this.invoiceID}}</td>
            <td>{{this.gardenerID}}</td>
            <td>{{this.totalCost}}</td>
        </tr>
        {{/each}}
    </tbody>
</table>

<br>
<h5>Important: </h5>
<p>InvoiceDetails rows are like line items on a reciept, and Invoices are the grand total at the bottom of the receipt.
    Each row in the Invoices table represents the total amount owed by one Gardener for all their purchases represented
    in the
    InvoiceDetails table. </p>

<p>Before creating an InvoiceDetails row, an Invoices row must be created. The totalCost attribute will be set to a
    starting value of $0.00. When an InvoiceDetails item is added, the totalCost of the
    Invoice will be updated.</p>

<p>Invoices cannot be edited or deleted, but if a Gardener is deleted, that Gardener's record in the Invoices and
    InvoiceDetails
    tables will be converted to NULL values.</p>

<h2>Add an Invoice</h2>

<form id="add-invoice-form-ajax">
    <p>To add an Invoice, select a Gardener.</p>

    <label for="input-gardenerID-invoices">Gardener</label>
    <select type="text" id="input-gardenerID-invoices" name="input-gardenerID-invoices" required>
        <option value="default-gardener-invoice">Select a Gardener</option>
        {{#each gardenerIDs}}
        <option value="{{this.gardenerID}}">{{this.gardenerID}} {{this.firstName}} {{this.lastName}}</option>
        {{/each}}
    </select>
    <br>
    <input type="submit" value="Add">

</form>

<script src="./js/invoices/add_invoice.js"></script>