<!-- index.hbs -->
<h1>Plants Plots</h1>
<table id="plantsplots-table">
    {{!-- Header section --}}
    <thead>
        {{!-- For just the first row, we print each key of the row object as a header cell so we
        know what each column means when the page renders --}}
        <tr>
            {{#each data.[0]}}
            <th>
                {{@key}}
            </th>
            {{/each}}
            <th>Delete</th>
        </tr>
    </thead>

    {{!-- Body section --}}
    <tbody>
        {{!-- For each row, print the id, varietyName, type, and price, in order --}}
        {{#each data}}
        <tr data-value={{this.plantsPlotsID}}>
            <td>{{this.plantsPlotsID}}</td>
            <td>{{this.plotID}}</td>
            <td>{{this.plantID}}</td>
            <td>{{this.varietyName}}</td>
            <td>{{this.type}}</td>
            <td>{{this.gardenName}}</td>
            <td><button onclick="deletePlantPlot({{this.plantsPlotsID}})">Delete</button></td>
        </tr>
        {{/each}}
    </tbody>
</table>
    <br>
    <h2>Add a Plant Plot</h2>
    <div class="form-container">
        <form id="add-plantplot-form-ajax">
            <label for="add-plants-plots-plot-id">Plot</label>
            <select type="text" id="add-plants-plots-plot-id" name="add-plants-plots-plot-id" required>
                <option value="default-plot">Select a Plot</option>
                {{#each plotIDs}}
                <option value={{this.plotID}}>{{this.plotID}} {{this.gardenName}}</option>
                {{/each}}
            </select>
            <br>
            <label for="add-plants-plots-plant-id">Plant</label>
            <select type="text" id="add-plants-plots-plant-id" name="add-plants-plots-plant-id" required>
                <option value="default-plant">Select a Plant</option>
                {{#each plantIDs}}
                <option value={{this.plantID}}>{{this.plantID}} {{this.varietyName}} {{this.type}}</option>
                {{/each}}
            </select>
            <br>
            <input type="submit" value="Add">
        </form>
    </div>
    <br>
    <h2>Update a Plant Plot</h2>
    <div class="form-container">
        <form id="update-plantplot-form-ajax">
            
            <label for="update-plants-plots-plantsplots-id">PlantPlot</label>
            <select type="text" id="update-plants-plots-plantsplots-id" name="update-plants-plots-plantsplots-id" required>
                <option value="default-plantplot">Select a Plot</option>
                {{#each data}}
                <option value={{{json this}}}>{{this.plantsPlotsID}} {{this.varietyName}} {{this.type}} {{this.gardenName}}</option>
                {{/each}}
            </select>
            <br>
            <label for="update-plants-plots-plot-id">Plot</label>
            <select type="text" id="update-plants-plots-plot-id" name="update-plants-plots-plot-id" required>
                <option value="default-plot">Select a Plot</option>
                {{#each plotIDs}}
                <option value={{this.plotID}}>{{this.plotID}} {{this.gardenName}}</option>
                {{/each}}
            </select>
            <br>
            <label for="update-plants-plots-plant-id">Plant</label>
            <select type="text" id="update-plants-plots-plant-id" name="update-plants-plots-plant-id" required>
                <option value="default-plant">Select a Plant</option>
                {{#each plantIDs}}
                <option value={{this.plantID}}>{{this.plantID}} {{this.varietyName}} {{this.type}}</option>
                {{/each}}
            </select>
            <br>
            <input type="submit" value="Update">
        </form>
    </div>

<script src="./js/plantsplots/add_plantplot.js"></script>
<script src="./js/plantsplots/delete_plantplot.js"></script>
<script src="./js/plantsplots/update_plantplot.js"></script>
<script src="./js/plantsplots/formhelpers.js"></script>